{
  "id": "uzr",
  "title": "Epic Context: Pre-computed context documents per epic",
  "description": "Reduce redundant context-gathering across tasks by generating a shared context document per epic. Each task currently spends ~5k tokens gathering similar context. This feature generates context once when an epic starts and injects it into every task's prompt.\n\n## Goals\n- Reduce token usage by 50%+ for multi-task epics\n- Improve task execution speed by eliminating redundant exploration\n- Maintain agent-agnostic design (works with Claude, Codex, Gemini)\n\n## Success Metrics\n- Context generation completes in \u003c2 minutes\n- Context docs stay under 4000 tokens\n- Tasks with injected context complete faster than without\n\n## References\n- docs/EPIC_CONTEXT.md - Full specification",
  "notes": "2026-01-17 12:39 - vts completed: Created internal/context package with Store struct. API follows checkpoint package patterns. Key design decisions: (1) Load returns empty string not error when file missing - callers should use Exists() first if they need to distinguish between empty context and no context. (2) Uses atomic writes (temp file + rename) for safety. (3) Directory path configurable via NewStoreWithDir for testing. Ready for next tasks to integrate with engine.\n2026-01-17 12:42 - i7w completed: Added comprehensive unit tests for context storage. Coverage now at 100%. Tests cover: (1) special characters in epic IDs using table-driven tests, (2) concurrent read/write safety with atomic counters and goroutines - tests pass with -race flag, (3) error paths for directory creation, write, read, and delete failures. Note: concurrent writes to the SAME file can fail due to temp file conflicts in the atomic write approach - this is documented behavior for the simple file store.\n2026-01-17 12:44 - 811 completed: Created context.PromptBuilder in internal/context/prompt.go. Key design: (1) NewPromptBuilder returns error for template parsing failure (future-proofing for custom templates), (2) Build takes *ticks.Epic and []ticks.Task to match how engine will call it, (3) Template includes all 5 sections from EPIC_CONTEXT.md spec with 4000 token constraint. Tests cover edge cases: empty tasks, empty descriptions, special chars (markdown, unicode, newlines), many tasks.",
  "status": "open",
  "priority": 2,
  "type": "epic",
  "owner": "peter@engelbrecht.dk",
  "created_by": "peter@engelbrecht.dk",
  "created_at": "2026-01-17T11:23:04.962579Z",
  "updated_at": "2026-01-17T11:44:13.467205Z"
}