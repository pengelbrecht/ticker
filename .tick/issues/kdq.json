{
  "id": "kdq",
  "title": "Add TUI tabbed view for multi-epic display",
  "description": "Implement tabbed TUI interface for viewing multiple running epics.\n\n## Overview\n\nWhen running multiple epics in parallel, the TUI should show tabs for each epic. User can switch between tabs to see each epic's tasks, output, and status.\n\n## Design\n\n```\n┌─[1:epic1]─[2:epic2]─[3:epic3]────────────────────────────────┐\n│ ● Running: epic1 - Feature implementation                     │\n├───────────────────────────────────────────────────────────────┤\n│ Tasks              │ Output                                   │\n│ ──────────────     │ ────────────────────────────────────     │\n│ ✓ task1            │ Working on task2...                      │\n│ ● task2 (current)  │ \u003e Reading file src/main.go               │\n│ ○ task3            │ \u003e Analyzing code structure               │\n│ ○ task4            │                                          │\n├────────────────────┴──────────────────────────────────────────┤\n│ Iteration 5 | /bin/zsh.45 | 12.3k tokens | Tab: switch epic         │\n└───────────────────────────────────────────────────────────────┘\n```\n\n## Files to Modify\n\n### internal/tui/model.go\n\nAdd multi-epic state:\n\n```go\ntype Model struct {\n    // ... existing fields ...\n    \n    // Multi-epic mode\n    multiEpic    bool              // True when running multiple epics\n    epicTabs     []EpicTab         // Tab state for each epic\n    activeTab    int               // Currently selected tab index\n}\n\ntype EpicTab struct {\n    EpicID       string\n    Title        string\n    Status       string            // \"running\", \"completed\", \"failed\", \"conflict\"\n    Model        *singleEpicModel  // Isolated state for this epic\n}\n```\n\n## Key Bindings\n\n| Key | Action |\n|-----|--------|\n| 1-9 | Switch to tab N |\n| [ | Previous tab |\n| ] | Next tab |\n| Tab | (existing) Cycle panes within current epic |\n\n## New Messages\n\n```go\n// EpicAddedMsg signals a new epic tab was added.\ntype EpicAddedMsg struct {\n    EpicID string\n    Title  string\n}\n\n// EpicStatusMsg updates an epic's tab status.\ntype EpicStatusMsg struct {\n    EpicID string\n    Status string\n}\n\n// SwitchTabMsg requests switching to a different tab.\ntype SwitchTabMsg struct {\n    TabIndex int\n}\n```\n\n## Tab Header Rendering\n\n- Active tab: highlighted with different background\n- Running epic: blue indicator\n- Completed epic: green checkmark\n- Failed epic: red X\n- Conflict epic: yellow warning\n\n## Implementation Notes\n\n- Each tab maintains its own scroll position, selected task, etc.\n- Output streams are per-tab (each epic has its own output history)\n- Budget display shows total across all epics\n- Footer shows tab switching hint\n- Single epic mode (current behavior) = no tabs shown\n\n### internal/tui/tabs.go\n- Tab rendering logic\n- Tab switching handlers\n- Tab header styling\n\n### internal/tui/model_test.go\n- Test tab creation on EpicAddedMsg\n- Test tab switching with number keys\n- Test tab status updates\n- Test single-epic mode has no tabs",
  "status": "open",
  "priority": 1,
  "type": "task",
  "owner": "peter@engelbrecht.dk",
  "blocked_by": [
    "91k"
  ],
  "parent": "8my",
  "acceptance_criteria": "1. Tabs appear when running multiple epics\n2. Number keys 1-9 switch between tabs\n3. [ and ] navigate prev/next tab\n4. Each tab maintains its own state (tasks, output, scroll)\n5. Tab header shows epic status with appropriate colors\n6. Active tab is visually highlighted\n7. Single epic mode shows no tabs (backwards compatible)\n8. Budget footer shows total across all epics\n9. All TUI tests pass",
  "created_by": "peter@engelbrecht.dk",
  "created_at": "2026-01-12T10:03:03.627315Z",
  "updated_at": "2026-01-12T10:03:03.627315Z"
}