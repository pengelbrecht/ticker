{
  "id": "8fm",
  "title": "Add unit tests for verdict processing",
  "description": "Test verdict processing logic for all awaiting types:\n\n```go\nfunc TestVerdictProcessing(t *testing.T) {\n    tests := []struct {\n        name        string\n        awaiting    string\n        verdict     string\n        wantClosed  bool\n        wantBackTo  string  // \"agent\" or \"closed\"\n    }{\n        // Terminal states - approved closes\n        {\"work_approved\", \"work\", \"approved\", true, \"closed\"},\n        {\"approval_approved\", \"approval\", \"approved\", true, \"closed\"},\n        {\"review_approved\", \"review\", \"approved\", true, \"closed\"},\n        {\"content_approved\", \"content\", \"approved\", true, \"closed\"},\n        \n        // Terminal states - rejected back to agent\n        {\"approval_rejected\", \"approval\", \"rejected\", false, \"agent\"},\n        {\"review_rejected\", \"review\", \"rejected\", false, \"agent\"},\n        {\"content_rejected\", \"content\", \"rejected\", false, \"agent\"},\n        \n        // Non-terminal states - approved back to agent\n        {\"input_approved\", \"input\", \"approved\", false, \"agent\"},\n        {\"escalation_approved\", \"escalation\", \"approved\", false, \"agent\"},\n        {\"checkpoint_approved\", \"checkpoint\", \"approved\", false, \"agent\"},\n        \n        // Non-terminal states - rejected closes\n        {\"input_rejected\", \"input\", \"rejected\", true, \"closed\"},\n        {\"escalation_rejected\", \"escalation\", \"rejected\", true, \"closed\"},\n        {\"checkpoint_rejected\", \"checkpoint\", \"rejected\", false, \"agent\"},\n    }\n    \n    for _, tt := range tests {\n        t.Run(tt.name, func(t *testing.T) {\n            // Test verdict processing\n        })\n    }\n}\n```\n\nAcceptance criteria:\n- [ ] All awaiting Ã— verdict combinations tested\n- [ ] Terminal vs non-terminal states correct\n- [ ] requires field not cleared by verdict\n- [ ] Transient fields cleared after processing",
  "status": "open",
  "priority": 1,
  "type": "task",
  "owner": "peter@engelbrecht.dk",
  "blocked_by": [
    "hch"
  ],
  "parent": "9bd",
  "created_by": "peter@engelbrecht.dk",
  "created_at": "2026-01-14T16:15:25.867503Z",
  "updated_at": "2026-01-14T16:15:25.867503Z"
}