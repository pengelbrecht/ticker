{
  "id": "eni",
  "title": "Add --skip-verify and --verify-only CLI flags",
  "description": "Add CLI flags to control verification behavior.\n\n## Files to Modify\n\n### cmd/ticker/main.go (or run.go if separate)\n\nAdd two new flags to the `run` command:\n\n1. **--skip-verify** - Disable verification entirely\n   - Sets RunConfig.SkipVerify = true\n   - Useful when running trusted code or debugging\n\n2. **--verify-only** - Run verifiers without the agent\n   - Useful for testing verification setup\n   - Load config, create GitVerifier, run verification\n   - Output results and exit\n\n## Flag Definitions\n\n```go\nrunCmd.Flags().Bool(\"skip-verify\", false, \"Skip verification after task completion\")\nrunCmd.Flags().Bool(\"verify-only\", false, \"Run verification without the agent (for debugging)\")\n```\n\n## --verify-only Behavior\n\nWhen --verify-only is passed:\n1. Skip agent execution entirely\n2. Load verification config\n3. Create GitVerifier (check for uncommitted changes)\n4. Run verification\n5. Output results (pass/fail, any output)\n6. Exit with code 0 if passed, 1 if failed\n\n## Implementation Notes\n\n- --skip-verify and --verify-only are mutually exclusive\n- --verify-only should work without an epic ID (just verify current directory)\n- Output should be clear about what's being checked\n- Consider making --verify-only work with TUI off (headless output)\n\n### cmd/ticker/main_test.go\n- Test flag parsing\n- Test mutual exclusivity\n- Test --verify-only runs without agent",
  "status": "closed",
  "priority": 2,
  "type": "task",
  "owner": "peter@engelbrecht.dk",
  "blocked_by": [
    "t6v"
  ],
  "parent": "t99",
  "acceptance_criteria": "1. --skip-verify flag exists and is documented in help\n2. --skip-verify=true disables verification in engine\n3. --verify-only flag exists and is documented in help\n4. --verify-only runs GitVerifier without agent\n5. --verify-only outputs clear pass/fail result\n6. --verify-only exits with code 0 on pass, 1 on fail\n7. --skip-verify and --verify-only are mutually exclusive (error if both)\n8. All tests pass",
  "created_by": "peter@engelbrecht.dk",
  "created_at": "2026-01-12T09:03:26.95195Z",
  "updated_at": "2026-01-12T09:19:31.400093Z",
  "closed_at": "2026-01-12T09:19:31.400093Z",
  "closed_reason": "Added --skip-verify and --verify-only CLI flags. Implementation: (1) Added both flags to runCmd with mutual exclusivity check. (2) Created createVerifyRunner() to set up GitVerifier when verification is enabled via config. (3) Created runVerifyOnly() for debug mode - runs verification in current directory without agent, exits 0 on pass or 1 on fail. (4) Wired verification runner into runWithTUI and runHeadless functions. (5) Added cmd/ticker/main_test.go with tests for flag parsing, mutual exclusivity, and verify-only behavior."
}